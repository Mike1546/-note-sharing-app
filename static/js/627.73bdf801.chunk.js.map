{"version":3,"file":"static/js/627.73bdf801.chunk.js","mappings":"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","sources":["services/projectMessages.js","../node_modules/@mui/icons-material/esm/Edit.js","../node_modules/@mui/icons-material/esm/Delete.js","services/activityLogs.js","services/tasks.js","../node_modules/@mui/icons-material/esm/RadioButtonUnchecked.js","components/projects/TaskView.js","../node_modules/@mui/icons-material/esm/CalendarToday.js","../node_modules/@mui/icons-material/esm/CheckCircle.js"],"sourcesContent":["import { databases } from '../appwrite';\r\nimport { Query, ID, Permission, Role } from 'appwrite';\r\n\r\nconst DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\nconst MESSAGES_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECT_MESSAGES || '691fbecd000ac88f46a2';\r\n\r\nexport async function createMessage(messageData) {\r\n  try {\r\n    const {\r\n      projectId,\r\n      taskId = null,\r\n      userId,\r\n      userName,\r\n      message,\r\n      messageDate = null\r\n    } = messageData;\r\n\r\n    if (!projectId || !userId || !message || !message.trim()) {\r\n      throw new Error('projectId, userId, and message are required');\r\n    }\r\n\r\n    // Get project to set permissions\r\n    const PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n    const project = await databases.getDocument(DATABASE_ID, PROJECTS_COLLECTION_ID, projectId);\r\n\r\n    const permissions = [\r\n      Permission.read(Role.user(project.ownerId)),\r\n      Permission.write(Role.user(project.ownerId)), // Use 'write' instead of 'create'\r\n      Permission.update(Role.user(project.ownerId)),\r\n      Permission.delete(Role.user(project.ownerId)),\r\n      ...(project.accessGroup || []).map(id => Permission.read(Role.user(id))),\r\n      ...(project.accessGroup || []).map(id => Permission.write(Role.user(id))) // Use 'write' instead of 'create'\r\n    ];\r\n\r\n    const document = await databases.createDocument(\r\n      DATABASE_ID,\r\n      MESSAGES_COLLECTION_ID,\r\n      ID.unique(),\r\n      {\r\n        projectId,\r\n        taskId: taskId || null,\r\n        userId,\r\n        userName: userName || 'Unknown User',\r\n        message: message.trim(),\r\n        messageDate: messageDate ? new Date(messageDate).toISOString() : new Date().toISOString(),\r\n        createdAt: new Date().toISOString()\r\n      },\r\n      permissions\r\n    );\r\n\r\n    return document;\r\n  } catch (err) {\r\n    console.error('Error creating message:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function listMessages(filters = {}) {\r\n  try {\r\n    const { projectId = null, taskId = null, sortBy = 'newest' } = filters;\r\n    \r\n    const queries = [];\r\n    \r\n    if (projectId) {\r\n      queries.push(Query.equal('projectId', projectId));\r\n    }\r\n    \r\n    if (taskId) {\r\n      queries.push(Query.equal('taskId', taskId));\r\n    }\r\n\r\n    const response = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      MESSAGES_COLLECTION_ID,\r\n      queries\r\n    );\r\n\r\n    let messages = response.documents || [];\r\n\r\n    // Sort\r\n    if (sortBy === 'newest') {\r\n      messages.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n    } else {\r\n      messages.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\r\n    }\r\n\r\n    return messages;\r\n  } catch (err) {\r\n    // If collection doesn't exist, return empty array instead of throwing\r\n    if (err.code === 404 || err.message?.includes('not be found')) {\r\n      console.warn('[ProjectMessages] Collection not found, returning empty array');\r\n      return [];\r\n    }\r\n    console.error('Error listing messages:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function updateMessage(messageId, messageData) {\r\n  try {\r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      MESSAGES_COLLECTION_ID,\r\n      messageId,\r\n      messageData\r\n    );\r\n  } catch (err) {\r\n    console.error('Error updating message:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function deleteMessage(messageId) {\r\n  try {\r\n    return await databases.deleteDocument(DATABASE_ID, MESSAGES_COLLECTION_ID, messageId);\r\n  } catch (err) {\r\n    console.error('Error deleting message:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport default {\r\n  createMessage,\r\n  listMessages,\r\n  updateMessage,\r\n  deleteMessage\r\n};\r\n\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z\"\n}), 'Edit');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');","import { databases } from '../appwrite';\r\nimport { Query, ID, Permission, Role } from 'appwrite';\r\n\r\nconst DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\nconst ACTIVITY_LOGS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_ACTIVITY_LOGS || '691fba55002692c63497';\r\n\r\nexport async function createActivityLog(logData) {\r\n  try {\r\n    const {\r\n      projectId = null,\r\n      taskId = null,\r\n      userId,\r\n      userName,\r\n      category,\r\n      action,\r\n      oldValue = null,\r\n      newValue = null\r\n    } = logData;\r\n\r\n    if (!userId || !category || !action) {\r\n      throw new Error('userId, category, and action are required');\r\n    }\r\n\r\n    // Get project to set permissions\r\n    let permissions = [Permission.read(Role.users())];\r\n    if (projectId) {\r\n      const PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n      try {\r\n        const project = await databases.getDocument(DATABASE_ID, PROJECTS_COLLECTION_ID, projectId);\r\n        permissions = [\r\n          Permission.read(Role.user(project.ownerId)),\r\n          ...(project.accessGroup || []).map(id => Permission.read(Role.user(id)))\r\n        ];\r\n      } catch (e) {\r\n        // Project might not exist, use default permissions\r\n      }\r\n    }\r\n\r\n    const document = await databases.createDocument(\r\n      DATABASE_ID,\r\n      ACTIVITY_LOGS_COLLECTION_ID,\r\n      ID.unique(),\r\n      {\r\n        projectId: projectId || null,\r\n        taskId: taskId || null,\r\n        userId,\r\n        userName: userName || 'Unknown User',\r\n        category,\r\n        action,\r\n        oldValue: oldValue || null,\r\n        newValue: newValue || null,\r\n        timestamp: new Date().toISOString()\r\n      },\r\n      permissions\r\n    );\r\n\r\n    return document;\r\n  } catch (err) {\r\n    console.error('Error creating activity log:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function listActivityLogs(filters = {}) {\r\n  try {\r\n    const { projectId = null, taskId = null, category = null, userId = null, search = '', sortBy = 'newest' } = filters;\r\n    \r\n    const queries = [];\r\n    \r\n    if (projectId) {\r\n      queries.push(Query.equal('projectId', projectId));\r\n    }\r\n    \r\n    if (taskId) {\r\n      queries.push(Query.equal('taskId', taskId));\r\n    }\r\n    \r\n    if (category) {\r\n      queries.push(Query.equal('category', category));\r\n    }\r\n    \r\n    if (userId) {\r\n      queries.push(Query.equal('userId', userId));\r\n    }\r\n\r\n    const response = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      ACTIVITY_LOGS_COLLECTION_ID,\r\n      queries\r\n    );\r\n\r\n    let logs = response.documents || [];\r\n\r\n    // Search filter (client-side for now)\r\n    if (search) {\r\n      const searchLower = search.toLowerCase();\r\n      logs = logs.filter(log => \r\n        log.action?.toLowerCase().includes(searchLower) ||\r\n        log.userName?.toLowerCase().includes(searchLower) ||\r\n        log.category?.toLowerCase().includes(searchLower)\r\n      );\r\n    }\r\n\r\n    // Sort\r\n    if (sortBy === 'newest') {\r\n      logs.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n    } else {\r\n      logs.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\r\n    }\r\n\r\n    return logs;\r\n  } catch (err) {\r\n    console.error('Error listing activity logs:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default {\r\n  createActivityLog,\r\n  listActivityLogs\r\n};\r\n\r\n","import { databases } from '../appwrite';\r\nimport { Query, ID, Permission, Role } from 'appwrite';\r\n\r\nconst DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\nconst TASKS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_TASKS || '691fba3e0012d16c1016';\r\n\r\nexport async function createTask(projectId, taskData, userId) {\r\n  try {\r\n    const {\r\n      title,\r\n      description = '',\r\n      dueDate = null,\r\n      priority = 'Medium',\r\n      status = 'Not Started',\r\n      subtasks = [],\r\n      attachments = []\r\n    } = taskData;\r\n\r\n    if (!title || !title.trim()) {\r\n      throw new Error('Task title is required');\r\n    }\r\n\r\n    const now = new Date().toISOString();\r\n\r\n    // Get project to check permissions\r\n    const PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n    const project = await databases.getDocument(DATABASE_ID, PROJECTS_COLLECTION_ID, projectId);\r\n\r\n    const permissions = [\r\n      Permission.read(Role.user(project.ownerId)),\r\n      Permission.update(Role.user(project.ownerId)),\r\n      Permission.delete(Role.user(project.ownerId)),\r\n      ...(project.accessGroup || []).map(id => Permission.read(Role.user(id))),\r\n      ...(project.accessGroup || []).map(id => Permission.update(Role.user(id)))\r\n    ];\r\n\r\n    const documentData = {\r\n      projectId,\r\n      title: title.trim(),\r\n      description,\r\n      dueDate: dueDate ? new Date(dueDate).toISOString() : null,\r\n      priority,\r\n      status,\r\n      subtasks: JSON.stringify(Array.isArray(subtasks) ? subtasks : []),\r\n      attachments: JSON.stringify(Array.isArray(attachments) ? attachments : []),\r\n      createdAt: now,\r\n      updatedAt: now,\r\n      createdBy: userId\r\n    };\r\n\r\n    // Only include comments if the attribute exists (it might not due to collection limits)\r\n    // Comments will be handled separately via messages collection\r\n    \r\n    const document = await databases.createDocument(\r\n      DATABASE_ID,\r\n      TASKS_COLLECTION_ID,\r\n      ID.unique(),\r\n      documentData,\r\n      permissions\r\n    );\r\n\r\n    return document;\r\n  } catch (err) {\r\n    console.error('Error creating task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function listTasks(projectId) {\r\n  try {\r\n    const response = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      TASKS_COLLECTION_ID,\r\n      [Query.equal('projectId', projectId)]\r\n    );\r\n\r\n    const tasks = (response.documents || []).map(task => {\r\n      const taskObj = {\r\n        ...task,\r\n        subtasks: task.subtasks ? JSON.parse(task.subtasks) : [],\r\n        attachments: task.attachments ? JSON.parse(task.attachments) : []\r\n      };\r\n      // Don't try to parse comments - it doesn't exist in the schema\r\n      // Comments are handled via projectMessages collection\r\n      return taskObj;\r\n    });\r\n\r\n    return tasks;\r\n  } catch (err) {\r\n    console.error('Error listing tasks:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function getTask(taskId) {\r\n  try {\r\n    const task = await databases.getDocument(DATABASE_ID, TASKS_COLLECTION_ID, taskId);\r\n    return {\r\n      ...task,\r\n      subtasks: task.subtasks ? JSON.parse(task.subtasks) : [],\r\n      attachments: task.attachments ? JSON.parse(task.attachments) : []\r\n      // Comments are handled via projectMessages collection, not stored in task\r\n    };\r\n  } catch (err) {\r\n    console.error('Error getting task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function updateTask(taskId, taskData) {\r\n  try {\r\n    const updateData = {\r\n      ...taskData,\r\n      updatedAt: new Date().toISOString()\r\n    };\r\n\r\n    // Stringify arrays\r\n    if (updateData.subtasks) {\r\n      updateData.subtasks = JSON.stringify(Array.isArray(updateData.subtasks) ? updateData.subtasks : []);\r\n    }\r\n    if (updateData.attachments) {\r\n      updateData.attachments = JSON.stringify(Array.isArray(updateData.attachments) ? updateData.attachments : []);\r\n    }\r\n    // Comments are handled via messages collection, don't include in task update\r\n    delete updateData.comments;\r\n\r\n    if (updateData.dueDate) {\r\n      updateData.dueDate = new Date(updateData.dueDate).toISOString();\r\n    }\r\n\r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      TASKS_COLLECTION_ID,\r\n      taskId,\r\n      updateData\r\n    );\r\n  } catch (err) {\r\n    console.error('Error updating task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function deleteTask(taskId) {\r\n  try {\r\n    return await databases.deleteDocument(DATABASE_ID, TASKS_COLLECTION_ID, taskId);\r\n  } catch (err) {\r\n    console.error('Error deleting task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function getOverdueTasks(userId) {\r\n  try {\r\n    // Get all projects user has access to\r\n    const PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n    const ownedProjects = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      [Query.equal('ownerId', userId)]\r\n    );\r\n    const accessProjects = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      [Query.search('accessGroup', userId)]\r\n    );\r\n    const allProjects = [...(ownedProjects.documents || []), ...(accessProjects.documents || [])];\r\n    const projectIds = Array.from(new Set(allProjects.map(p => p.$id)));\r\n\r\n    // Get all tasks from these projects\r\n    const now = new Date().toISOString();\r\n    const overdueTasks = [];\r\n    \r\n    for (const projectId of projectIds) {\r\n      const tasks = await listTasks(projectId);\r\n      const overdue = tasks.filter(task => \r\n        task.dueDate && \r\n        new Date(task.dueDate) < new Date(now) && \r\n        task.status !== 'Completed'\r\n      );\r\n      overdueTasks.push(...overdue);\r\n    }\r\n\r\n    return overdueTasks;\r\n  } catch (err) {\r\n    console.error('Error getting overdue tasks:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default {\r\n  createTask,\r\n  listTasks,\r\n  getTask,\r\n  updateTask,\r\n  deleteTask,\r\n  getOverdueTasks\r\n};\r\n\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8\"\n}), 'RadioButtonUnchecked');","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  Chip,\r\n  Card,\r\n  CardContent,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Divider,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions\r\n} from '@mui/material';\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Add as AddIcon,\r\n  CalendarToday as CalendarIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  RadioButtonUnchecked as RadioButtonUncheckedIcon\r\n} from '@mui/icons-material';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport tasksService from '../../services/tasks';\r\nimport activityLogsService from '../../services/activityLogs';\r\nimport projectMessagesService from '../../services/projectMessages';\r\nimport dayjs from 'dayjs';\r\n\r\nconst TaskView = () => {\r\n  const { projectId, taskId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [task, setTask] = useState(null);\r\n  const [activityLogs, setActivityLogs] = useState([]);\r\n  const [taskComments, setTaskComments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    dueDate: '',\r\n    priority: 'Medium',\r\n    status: 'Not Started'\r\n  });\r\n  const [newSubtask, setNewSubtask] = useState('');\r\n  const [newComment, setNewComment] = useState('');\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (taskId && user?.$id) {\r\n      fetchTask();\r\n      fetchActivityLogs();\r\n      fetchTaskComments();\r\n    }\r\n  }, [taskId, user?.$id]);\r\n\r\n  const fetchTaskComments = async () => {\r\n    try {\r\n      const comments = await projectMessagesService.listMessages({ taskId, sortBy: 'newest' });\r\n      setTaskComments(comments);\r\n    } catch (err) {\r\n      console.error('Error fetching task comments:', err);\r\n    }\r\n  };\r\n\r\n  const fetchTask = async () => {\r\n    try {\r\n      const taskData = await tasksService.getTask(taskId);\r\n      setTask(taskData);\r\n      setFormData({\r\n        title: taskData.title || '',\r\n        description: taskData.description || '',\r\n        dueDate: taskData.dueDate ? dayjs(taskData.dueDate).format('YYYY-MM-DD') : '',\r\n        priority: taskData.priority || 'Medium',\r\n        status: taskData.status || 'Not Started'\r\n      });\r\n    } catch (err) {\r\n      setError('Failed to load task');\r\n    }\r\n  };\r\n\r\n  const fetchActivityLogs = async () => {\r\n    try {\r\n      const logs = await activityLogsService.listActivityLogs({ taskId, sortBy: 'newest' });\r\n      setActivityLogs(logs);\r\n    } catch (err) {\r\n      console.error('Error fetching activity logs:', err);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const oldTask = { ...task };\r\n      await tasksService.updateTask(taskId, formData);\r\n      \r\n      // Log changes\r\n      const changes = [];\r\n      if (oldTask.title !== formData.title) {\r\n        changes.push(`Title: ${oldTask.title} → ${formData.title}`);\r\n      }\r\n      if (oldTask.status !== formData.status) {\r\n        changes.push(`Status: ${oldTask.status} → ${formData.status}`);\r\n      }\r\n      if (oldTask.priority !== formData.priority) {\r\n        changes.push(`Priority: ${oldTask.priority} → ${formData.priority}`);\r\n      }\r\n\r\n      if (changes.length > 0) {\r\n        await activityLogsService.createActivityLog({\r\n          projectId,\r\n          taskId,\r\n          userId: user.$id,\r\n          userName: user.name || user.email,\r\n          category: 'Task Update',\r\n          action: `Updated task: ${changes.join(', ')}`,\r\n          oldValue: JSON.stringify(oldTask),\r\n          newValue: JSON.stringify(formData)\r\n        });\r\n      }\r\n\r\n      setSuccess('Task updated successfully');\r\n      setEditMode(false);\r\n      await fetchTask();\r\n      await fetchActivityLogs();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (err) {\r\n      setError(err?.message || 'Failed to update task');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddSubtask = async () => {\r\n    if (!newSubtask.trim()) return;\r\n\r\n    const subtasks = [...(task.subtasks || []), { id: Date.now(), text: newSubtask.trim(), completed: false }];\r\n    \r\n    setLoading(true);\r\n    try {\r\n      await tasksService.updateTask(taskId, { subtasks });\r\n      \r\n      await activityLogsService.createActivityLog({\r\n        projectId,\r\n        taskId,\r\n        userId: user.$id,\r\n        userName: user.name || user.email,\r\n        category: 'Task Update',\r\n        action: `Added subtask: ${newSubtask}`,\r\n        newValue: newSubtask\r\n      });\r\n\r\n      setNewSubtask('');\r\n      await fetchTask();\r\n      await fetchActivityLogs();\r\n    } catch (err) {\r\n      setError(err?.message || 'Failed to add subtask');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleSubtask = async (subtaskId) => {\r\n    const subtasks = task.subtasks.map(st => \r\n      st.id === subtaskId ? { ...st, completed: !st.completed } : st\r\n    );\r\n    \r\n    setLoading(true);\r\n    try {\r\n      await tasksService.updateTask(taskId, { subtasks });\r\n      await fetchTask();\r\n    } catch (err) {\r\n      setError(err?.message || 'Failed to update subtask');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async () => {\r\n    if (!newComment.trim()) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      // Use projectMessages service instead of task comments\r\n      const projectMessagesService = (await import('../../services/projectMessages')).default;\r\n      await projectMessagesService.createMessage({\r\n        projectId,\r\n        taskId,\r\n        userId: user.$id,\r\n        userName: user.name || user.email,\r\n        message: newComment.trim(),\r\n        messageDate: new Date().toISOString()\r\n      });\r\n      \r\n      await activityLogsService.createActivityLog({\r\n        projectId,\r\n        taskId,\r\n        userId: user.$id,\r\n        userName: user.name || user.email,\r\n        category: 'Comment Added',\r\n        action: `Added comment`,\r\n        newValue: newComment\r\n      });\r\n\r\n      setNewComment('');\r\n      await fetchTaskComments();\r\n      await fetchActivityLogs();\r\n    } catch (err) {\r\n      setError(err?.message || 'Failed to add comment');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await tasksService.deleteTask(taskId);\r\n      \r\n      await activityLogsService.createActivityLog({\r\n        projectId,\r\n        userId: user.$id,\r\n        userName: user.name || user.email,\r\n        category: 'Task Update',\r\n        action: `Deleted task: ${task.title}`,\r\n        oldValue: task.title\r\n      });\r\n\r\n      navigate(`/projects/${projectId}`);\r\n    } catch (err) {\r\n      setError(err?.message || 'Failed to delete task');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority) => {\r\n    const colors = {\r\n      'Low': 'success',\r\n      'Medium': 'warning',\r\n      'High': 'error',\r\n      'Critical': 'error'\r\n    };\r\n    return colors[priority] || 'default';\r\n  };\r\n\r\n  const isOverdue = (dueDate) => {\r\n    if (!dueDate) return false;\r\n    return new Date(dueDate) < new Date() && new Date(dueDate).toDateString() !== new Date().toDateString();\r\n  };\r\n\r\n  if (!task) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n        <Typography>Loading task...</Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Box sx={{ mb: 3, display: 'flex', alignItems: 'center', gap: 2 }}>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate(`/projects/${projectId}`)}\r\n          sx={{ textTransform: 'none' }}\r\n        >\r\n          Back to Project\r\n        </Button>\r\n        <Box sx={{ flexGrow: 1 }} />\r\n        {!editMode && (\r\n          <>\r\n            <Button\r\n              variant=\"outlined\"\r\n              startIcon={<EditIcon />}\r\n              onClick={() => setEditMode(true)}\r\n              sx={{ textTransform: 'none' }}\r\n            >\r\n              Edit\r\n            </Button>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"error\"\r\n              startIcon={<DeleteIcon />}\r\n              onClick={() => setDeleteDialogOpen(true)}\r\n              sx={{ textTransform: 'none' }}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </>\r\n        )}\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError('')}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      {success && (\r\n        <Alert severity=\"success\" sx={{ mb: 2 }} onClose={() => setSuccess('')}>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          {editMode ? (\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Task Title\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                required\r\n              />\r\n              <TextField\r\n                fullWidth\r\n                label=\"Description\"\r\n                value={formData.description}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                multiline\r\n                rows={4}\r\n              />\r\n              <TextField\r\n                fullWidth\r\n                label=\"Due Date\"\r\n                type=\"date\"\r\n                value={formData.dueDate}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, dueDate: e.target.value }))}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n              <Box sx={{ display: 'flex', gap: 2 }}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Priority</InputLabel>\r\n                  <Select\r\n                    value={formData.priority}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, priority: e.target.value }))}\r\n                    label=\"Priority\"\r\n                  >\r\n                    <MenuItem value=\"Low\">Low</MenuItem>\r\n                    <MenuItem value=\"Medium\">Medium</MenuItem>\r\n                    <MenuItem value=\"High\">High</MenuItem>\r\n                    <MenuItem value=\"Critical\">Critical</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Status</InputLabel>\r\n                  <Select\r\n                    value={formData.status}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, status: e.target.value }))}\r\n                    label=\"Status\"\r\n                  >\r\n                    <MenuItem value=\"Not Started\">Not Started</MenuItem>\r\n                    <MenuItem value=\"Active\">Active</MenuItem>\r\n                    <MenuItem value=\"Blocked\">Blocked</MenuItem>\r\n                    <MenuItem value=\"Completed\">Completed</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n              <Box sx={{ display: 'flex', gap: 1, justifyContent: 'flex-end' }}>\r\n                <Button onClick={() => setEditMode(false)}>Cancel</Button>\r\n                <Button onClick={handleSave} variant=\"contained\" disabled={loading || !formData.title.trim()}>\r\n                  Save\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n                <Typography variant=\"h4\" sx={{ fontWeight: 'bold', flexGrow: 1 }}>\r\n                  {task.title}\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', gap: 1 }}>\r\n                  <Chip label={task.priority} color={getPriorityColor(task.priority)} />\r\n                  <Chip label={task.status} />\r\n                </Box>\r\n              </Box>\r\n              <Typography variant=\"body1\" sx={{ mb: 2, color: 'text.secondary' }}>\r\n                {task.description || 'No description'}\r\n              </Typography>\r\n              {task.dueDate && (\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\r\n                  <CalendarIcon color={isOverdue(task.dueDate) ? 'error' : 'action'} />\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color={isOverdue(task.dueDate) ? 'error.main' : 'text.secondary'}\r\n                    sx={{ fontWeight: isOverdue(task.dueDate) ? 'bold' : 'normal' }}\r\n                  >\r\n                    Due: {dayjs(task.dueDate).format('MMMM D, YYYY')}\r\n                    {isOverdue(task.dueDate) && ' (Overdue!)'}\r\n                  </Typography>\r\n                  <Button\r\n                    size=\"small\"\r\n                    onClick={() => navigate(`/calendar?date=${dayjs(task.dueDate).format('YYYY-MM-DD')}`)}\r\n                    sx={{ ml: 2, textTransform: 'none' }}\r\n                  >\r\n                    View in Calendar\r\n                  </Button>\r\n                </Box>\r\n              )}\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Subtasks */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n            Subtasks\r\n          </Typography>\r\n          {task.subtasks && task.subtasks.length > 0 ? (\r\n            <List>\r\n              {task.subtasks.map((subtask) => (\r\n                <ListItem key={subtask.id}>\r\n                  <IconButton\r\n                    onClick={() => handleToggleSubtask(subtask.id)}\r\n                    sx={{ mr: 1 }}\r\n                  >\r\n                    {subtask.completed ? <CheckCircleIcon color=\"success\" /> : <RadioButtonUncheckedIcon />}\r\n                  </IconButton>\r\n                  <ListItemText\r\n                    primary={subtask.text}\r\n                    sx={{\r\n                      textDecoration: subtask.completed ? 'line-through' : 'none',\r\n                      color: subtask.completed ? 'text.secondary' : 'text.primary'\r\n                    }}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              No subtasks yet\r\n            </Typography>\r\n          )}\r\n          <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\r\n            <TextField\r\n              fullWidth\r\n              size=\"small\"\r\n              placeholder=\"Add subtask...\"\r\n              value={newSubtask}\r\n              onChange={(e) => setNewSubtask(e.target.value)}\r\n              onKeyPress={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  e.preventDefault();\r\n                  handleAddSubtask();\r\n                }\r\n              }}\r\n            />\r\n            <Button variant=\"outlined\" onClick={handleAddSubtask} disabled={!newSubtask.trim()}>\r\n              Add\r\n            </Button>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Comments */}\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n            Comments\r\n          </Typography>\r\n          {taskComments && taskComments.length > 0 ? (\r\n            <List>\r\n              {taskComments.map((comment, index) => (\r\n                <React.Fragment key={comment.$id}>\r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={comment.message}\r\n                      secondary={`${comment.userName} • ${dayjs(comment.messageDate).format('MMM D, YYYY')} • ${dayjs(comment.createdAt).format('h:mm A')}`}\r\n                    />\r\n                  </ListItem>\r\n                  {index < taskComments.length - 1 && <Divider />}\r\n                </React.Fragment>\r\n              ))}\r\n            </List>\r\n          ) : (\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              No comments yet\r\n            </Typography>\r\n          )}\r\n          <Box sx={{ display: 'flex', gap: 1 }}>\r\n            <TextField\r\n              fullWidth\r\n              multiline\r\n              rows={2}\r\n              placeholder=\"Add a comment...\"\r\n              value={newComment}\r\n              onChange={(e) => setNewComment(e.target.value)}\r\n            />\r\n            <Button variant=\"outlined\" onClick={handleAddComment} disabled={!newComment.trim()}>\r\n              Add\r\n            </Button>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Activity Log */}\r\n      <Card>\r\n        <CardContent>\r\n          <Typography variant=\"h6\" sx={{ mb: 2 }}>\r\n            Activity History\r\n          </Typography>\r\n          <List>\r\n            {activityLogs.length === 0 ? (\r\n              <ListItem>\r\n                <ListItemText primary=\"No activity yet\" />\r\n              </ListItem>\r\n            ) : (\r\n              activityLogs.map((log, index) => (\r\n                <React.Fragment key={log.$id}>\r\n                  <ListItem>\r\n                    <ListItemText\r\n                      primary={log.action}\r\n                      secondary={\r\n                        <Box>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            {log.userName} • {dayjs(log.timestamp).format('MMM D, YYYY h:mm A')}\r\n                          </Typography>\r\n                          {log.oldValue && log.newValue && (\r\n                            <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block' }}>\r\n                              {log.oldValue} → {log.newValue}\r\n                            </Typography>\r\n                          )}\r\n                        </Box>\r\n                      }\r\n                    />\r\n                    <Chip label={log.category} size=\"small\" />\r\n                  </ListItem>\r\n                  {index < activityLogs.length - 1 && <Divider />}\r\n                </React.Fragment>\r\n              ))\r\n            )}\r\n          </List>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={deleteDialogOpen} onClose={() => setDeleteDialogOpen(false)}>\r\n        <DialogTitle>Delete Task</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to delete \"{task.title}\"? This cannot be undone.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\r\n          <Button onClick={handleDelete} color=\"error\" variant=\"contained\" disabled={loading}>\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TaskView;\r\n\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z\"\n}), 'CalendarToday');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"\n}), 'CheckCircle');"],"names":["DATABASE_ID","process","MESSAGES_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_PROJECT_MESSAGES","async","createMessage","messageData","projectId","taskId","userId","userName","message","messageDate","trim","Error","PROJECTS_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_PROJECTS","project","databases","getDocument","permissions","Permission","read","Role","user","ownerId","write","update","delete","accessGroup","map","id","createDocument","ID","unique","Date","toISOString","createdAt","err","console","error","listMessages","filters","arguments","length","undefined","sortBy","queries","push","Query","equal","messages","listDocuments","documents","sort","a","b","_err$message","code","includes","warn","updateMessage","messageId","updateDocument","deleteMessage","deleteDocument","createSvgIcon","_jsx","d","ACTIVITY_LOGS_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_ACTIVITY_LOGS","createActivityLog","logData","category","action","oldValue","newValue","users","e","timestamp","listActivityLogs","search","logs","searchLower","toLowerCase","filter","log","_log$action","_log$userName","_log$category","TASKS_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_TASKS","listTasks","response","task","subtasks","JSON","parse","attachments","createTask","taskData","title","description","dueDate","priority","status","now","documentData","stringify","Array","isArray","updatedAt","createdBy","getTask","updateTask","updateData","comments","deleteTask","getOverdueTasks","ownedProjects","accessProjects","allProjects","projectIds","from","Set","p","$id","overdueTasks","overdue","TaskView","useParams","navigate","useNavigate","useAuth","setTask","useState","activityLogs","setActivityLogs","taskComments","setTaskComments","loading","setLoading","setError","success","setSuccess","editMode","setEditMode","formData","setFormData","newSubtask","setNewSubtask","newComment","setNewComment","deleteDialogOpen","setDeleteDialogOpen","useEffect","fetchTask","fetchActivityLogs","fetchTaskComments","projectMessagesService","tasksService","dayjs","format","activityLogsService","handleAddSubtask","text","completed","name","email","isOverdue","toDateString","_jsxs","Container","maxWidth","sx","py","children","Box","mb","display","alignItems","gap","Button","startIcon","ArrowBackIcon","onClick","textTransform","flexGrow","_Fragment","variant","EditIcon","color","DeleteIcon","Alert","severity","onClose","Card","CardContent","flexDirection","TextField","fullWidth","label","value","onChange","prev","target","required","multiline","rows","type","InputLabelProps","shrink","FormControl","InputLabel","Select","MenuItem","justifyContent","oldTask","changes","join","setTimeout","disabled","Typography","fontWeight","Chip","CalendarIcon","size","ml","List","subtask","ListItem","IconButton","st","subtaskId","handleToggleSubtask","mr","CheckCircleIcon","RadioButtonUncheckedIcon","ListItemText","primary","textDecoration","mt","placeholder","onKeyPress","key","preventDefault","comment","index","React","secondary","Divider","default","Dialog","open","DialogTitle","DialogContent","DialogActions"],"sourceRoot":""}