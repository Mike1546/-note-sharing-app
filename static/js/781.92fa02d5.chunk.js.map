{"version":3,"file":"static/js/781.92fa02d5.chunk.js","mappings":"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","sources":["services/tasks.js","services/reminders.js","services/calendarData.js","components/calendar/Calendar.js","hooks/useCalendarData.js","services/projects.js"],"sourcesContent":["import { databases } from '../appwrite';\r\nimport { Query, ID, Permission, Role } from 'appwrite';\r\n\r\nconst DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\nconst TASKS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_TASKS || '691fba3e0012d16c1016';\r\n\r\nexport async function createTask(projectId, taskData, userId) {\r\n  try {\r\n    const {\r\n      title,\r\n      description = '',\r\n      dueDate = null,\r\n      priority = 'Medium',\r\n      status = 'Not Started',\r\n      subtasks = [],\r\n      attachments = []\r\n    } = taskData;\r\n\r\n    if (!title || !title.trim()) {\r\n      throw new Error('Task title is required');\r\n    }\r\n\r\n    const now = new Date().toISOString();\r\n\r\n    // Get project to check permissions\r\n    const PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n    const project = await databases.getDocument(DATABASE_ID, PROJECTS_COLLECTION_ID, projectId);\r\n\r\n    const permissions = [\r\n      Permission.read(Role.user(project.ownerId)),\r\n      Permission.update(Role.user(project.ownerId)),\r\n      Permission.delete(Role.user(project.ownerId)),\r\n      ...(project.accessGroup || []).map(id => Permission.read(Role.user(id))),\r\n      ...(project.accessGroup || []).map(id => Permission.update(Role.user(id)))\r\n    ];\r\n\r\n    const documentData = {\r\n      projectId,\r\n      title: title.trim(),\r\n      description,\r\n      dueDate: dueDate ? new Date(dueDate).toISOString() : null,\r\n      priority,\r\n      status,\r\n      subtasks: JSON.stringify(Array.isArray(subtasks) ? subtasks : []),\r\n      attachments: JSON.stringify(Array.isArray(attachments) ? attachments : []),\r\n      createdAt: now,\r\n      updatedAt: now,\r\n      createdBy: userId\r\n    };\r\n\r\n    // Only include comments if the attribute exists (it might not due to collection limits)\r\n    // Comments will be handled separately via messages collection\r\n    \r\n    const document = await databases.createDocument(\r\n      DATABASE_ID,\r\n      TASKS_COLLECTION_ID,\r\n      ID.unique(),\r\n      documentData,\r\n      permissions\r\n    );\r\n\r\n    return document;\r\n  } catch (err) {\r\n    console.error('Error creating task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function listTasks(projectId) {\r\n  try {\r\n    const response = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      TASKS_COLLECTION_ID,\r\n      [Query.equal('projectId', projectId)]\r\n    );\r\n\r\n    const tasks = (response.documents || []).map(task => {\r\n      const taskObj = {\r\n        ...task,\r\n        subtasks: task.subtasks ? JSON.parse(task.subtasks) : [],\r\n        attachments: task.attachments ? JSON.parse(task.attachments) : []\r\n      };\r\n      // Don't try to parse comments - it doesn't exist in the schema\r\n      // Comments are handled via projectMessages collection\r\n      return taskObj;\r\n    });\r\n\r\n    return tasks;\r\n  } catch (err) {\r\n    console.error('Error listing tasks:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function getTask(taskId) {\r\n  try {\r\n    const task = await databases.getDocument(DATABASE_ID, TASKS_COLLECTION_ID, taskId);\r\n    return {\r\n      ...task,\r\n      subtasks: task.subtasks ? JSON.parse(task.subtasks) : [],\r\n      attachments: task.attachments ? JSON.parse(task.attachments) : []\r\n      // Comments are handled via projectMessages collection, not stored in task\r\n    };\r\n  } catch (err) {\r\n    console.error('Error getting task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function updateTask(taskId, taskData) {\r\n  try {\r\n    const updateData = {\r\n      ...taskData,\r\n      updatedAt: new Date().toISOString()\r\n    };\r\n\r\n    // Stringify arrays\r\n    if (updateData.subtasks) {\r\n      updateData.subtasks = JSON.stringify(Array.isArray(updateData.subtasks) ? updateData.subtasks : []);\r\n    }\r\n    if (updateData.attachments) {\r\n      updateData.attachments = JSON.stringify(Array.isArray(updateData.attachments) ? updateData.attachments : []);\r\n    }\r\n    // Comments are handled via messages collection, don't include in task update\r\n    delete updateData.comments;\r\n\r\n    if (updateData.dueDate) {\r\n      updateData.dueDate = new Date(updateData.dueDate).toISOString();\r\n    }\r\n\r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      TASKS_COLLECTION_ID,\r\n      taskId,\r\n      updateData\r\n    );\r\n  } catch (err) {\r\n    console.error('Error updating task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function deleteTask(taskId) {\r\n  try {\r\n    return await databases.deleteDocument(DATABASE_ID, TASKS_COLLECTION_ID, taskId);\r\n  } catch (err) {\r\n    console.error('Error deleting task:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function getOverdueTasks(userId) {\r\n  try {\r\n    // Get all projects user has access to\r\n    const PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n    const ownedProjects = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      [Query.equal('ownerId', userId)]\r\n    );\r\n    const accessProjects = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      [Query.search('accessGroup', userId)]\r\n    );\r\n    const allProjects = [...(ownedProjects.documents || []), ...(accessProjects.documents || [])];\r\n    const projectIds = Array.from(new Set(allProjects.map(p => p.$id)));\r\n\r\n    // Get all tasks from these projects\r\n    const now = new Date().toISOString();\r\n    const overdueTasks = [];\r\n    \r\n    for (const projectId of projectIds) {\r\n      const tasks = await listTasks(projectId);\r\n      const overdue = tasks.filter(task => \r\n        task.dueDate && \r\n        new Date(task.dueDate) < new Date(now) && \r\n        task.status !== 'Completed'\r\n      );\r\n      overdueTasks.push(...overdue);\r\n    }\r\n\r\n    return overdueTasks;\r\n  } catch (err) {\r\n    console.error('Error getting overdue tasks:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport default {\r\n  createTask,\r\n  listTasks,\r\n  getTask,\r\n  updateTask,\r\n  deleteTask,\r\n  getOverdueTasks\r\n};\r\n\r\n","import { databases } from '../appwrite';\r\nimport { Query, ID } from 'appwrite';\r\n\r\nconst DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\nconst REMINDERS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_REMINDERS || '691f989400364a8670d8';\r\n\r\nexport async function createReminder(userId, reminder) {\r\n  try {\r\n    const { title, description, date, time, notification, priority, assignedTo = [], recurring = null } = reminder;\r\n    \r\n    // Handle date - could be ISO string or separate date/time\r\n    let dateTime;\r\n    if (typeof date === 'string' && date.includes('T')) {\r\n      // Already an ISO string\r\n      dateTime = new Date(date);\r\n    } else if (time) {\r\n      // Combine date and time\r\n      const dateStr = typeof date === 'string' ? date : date.format('YYYY-MM-DD');\r\n      const timeStr = typeof time === 'string' ? time : time.format('HH:mm');\r\n      dateTime = new Date(`${dateStr}T${timeStr}`);\r\n    } else {\r\n      // Just date, use noon as default\r\n      const dateStr = typeof date === 'string' ? date : date.format('YYYY-MM-DD');\r\n      dateTime = new Date(`${dateStr}T12:00`);\r\n    }\r\n    \r\n    // Validate date\r\n    if (isNaN(dateTime.getTime())) {\r\n      throw new Error('Invalid date or time value');\r\n    }\r\n    \r\n    return await databases.createDocument(\r\n      DATABASE_ID,\r\n      REMINDERS_COLLECTION_ID,\r\n      ID.unique(),\r\n      {\r\n        ownerId: userId,\r\n        title: title.trim(),\r\n        description: description || '',\r\n        date: dateTime.toISOString(),\r\n        notification: notification !== false, // Default to true\r\n        priority: priority || 'medium',\r\n        assignedTo: Array.isArray(assignedTo) ? assignedTo : [],\r\n        recurring: recurring || null\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.error('Error creating reminder:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function listReminders(userId, date = null) {\r\n  try {\r\n    const queries = [Query.equal('ownerId', userId)];\r\n    \r\n    // Get all reminders for the user (we'll filter by date and recurring logic below)\r\n    const response = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      REMINDERS_COLLECTION_ID,\r\n      queries\r\n    );\r\n    \r\n    const allReminders = response.documents || [];\r\n    \r\n    if (!date) {\r\n      return allReminders;\r\n    }\r\n    \r\n    // Filter reminders that match the date\r\n    const targetDate = new Date(date);\r\n    const targetDay = targetDate.getDate();\r\n    const targetMonth = targetDate.getMonth();\r\n    const targetYear = targetDate.getFullYear();\r\n    const targetDayOfWeek = targetDate.getDay();\r\n    \r\n    const matchingReminders = allReminders.filter(reminder => {\r\n      const reminderDate = new Date(reminder.date);\r\n      const reminderDay = reminderDate.getDate();\r\n      const reminderMonth = reminderDate.getMonth();\r\n      const reminderYear = reminderDate.getFullYear();\r\n      const reminderDayOfWeek = reminderDate.getDay();\r\n      \r\n      // Exact date match\r\n      if (reminderDay === targetDay && reminderMonth === targetMonth && reminderYear === targetYear) {\r\n        return true;\r\n      }\r\n      \r\n      // Check recurring patterns\r\n      if (reminder.recurring) {\r\n        switch (reminder.recurring) {\r\n          case 'daily':\r\n            // Show if reminder date is on or before target date\r\n            return reminderDate <= targetDate;\r\n          case 'weekly':\r\n            // Show if same day of week and reminder date is on or before target date\r\n            return reminderDayOfWeek === targetDayOfWeek && reminderDate <= targetDate;\r\n          case 'monthly':\r\n            // Show if same day of month and reminder date is on or before target date\r\n            return reminderDay === targetDay && reminderDate <= targetDate;\r\n          case 'yearly':\r\n            // Show if same month and day, and reminder date is on or before target date\r\n            return reminderDay === targetDay && reminderMonth === targetMonth && reminderDate <= targetDate;\r\n          default:\r\n            return false;\r\n        }\r\n      }\r\n      \r\n      return false;\r\n    });\r\n    \r\n    return matchingReminders;\r\n  } catch (err) {\r\n    // If collection doesn't exist, return empty array\r\n    if (err.code === 404) {\r\n      console.warn('Reminders collection not set up yet');\r\n      return [];\r\n    }\r\n    console.error('Error listing reminders:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function updateReminder(documentId, reminder) {\r\n  try {\r\n    const { title, description, date, time, notification, priority, assignedTo, recurring } = reminder;\r\n    \r\n    // Handle date - could be ISO string or separate date/time\r\n    let dateTime;\r\n    if (typeof date === 'string' && date.includes('T')) {\r\n      // Already an ISO string\r\n      dateTime = new Date(date);\r\n    } else if (time) {\r\n      // Combine date and time\r\n      const dateStr = typeof date === 'string' ? date : date.format('YYYY-MM-DD');\r\n      const timeStr = typeof time === 'string' ? time : time.format('HH:mm');\r\n      dateTime = new Date(`${dateStr}T${timeStr}`);\r\n    } else {\r\n      // Just date, use noon as default\r\n      const dateStr = typeof date === 'string' ? date : date.format('YYYY-MM-DD');\r\n      dateTime = new Date(`${dateStr}T12:00`);\r\n    }\r\n    \r\n    // Validate date\r\n    if (isNaN(dateTime.getTime())) {\r\n      throw new Error('Invalid date or time value');\r\n    }\r\n    \r\n    const updateData = {\r\n      title: title.trim(),\r\n      description: description || '',\r\n      date: dateTime.toISOString(),\r\n      notification: notification !== false,\r\n      priority: priority || 'medium'\r\n    };\r\n    \r\n    if (assignedTo !== undefined) {\r\n      updateData.assignedTo = Array.isArray(assignedTo) ? assignedTo : [];\r\n    }\r\n    \r\n    if (recurring !== undefined) {\r\n      updateData.recurring = recurring || null;\r\n    }\r\n    \r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      REMINDERS_COLLECTION_ID,\r\n      documentId,\r\n      updateData\r\n    );\r\n  } catch (err) {\r\n    console.error('Failed to update reminder:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function deleteReminder(documentId) {\r\n  try {\r\n    return await databases.deleteDocument(\r\n      DATABASE_ID,\r\n      REMINDERS_COLLECTION_ID,\r\n      documentId\r\n    );\r\n  } catch (err) {\r\n    console.warn('Failed to delete reminder');\r\n    throw err;\r\n  }\r\n}\r\n\r\nconst remindersService = {\r\n  createReminder,\r\n  listReminders,\r\n  updateReminder,\r\n  deleteReminder,\r\n};\r\n\r\nexport default remindersService;\r\n","import remindersService from './reminders';\r\nimport tasksService from './tasks';\r\nimport projectsService from './projects';\r\nimport dayjs from 'dayjs';\r\n\r\n/**\r\n * Fetch all calendar items (reminders + tasks) for a user\r\n * @param {string} userId - User ID\r\n * @param {string} date - Optional date filter (YYYY-MM-DD format)\r\n * @returns {Promise<Array>} Array of calendar items with type, date, and metadata\r\n */\r\nexport async function getCalendarItems(userId, date = null) {\r\n  try {\r\n    const items = [];\r\n\r\n    // Fetch reminders\r\n    try {\r\n      const reminders = await remindersService.listReminders(userId, date);\r\n      reminders.forEach(reminder => {\r\n        items.push({\r\n          type: 'reminder',\r\n          id: reminder.$id,\r\n          title: reminder.title,\r\n          description: reminder.description,\r\n          date: reminder.date,\r\n          time: dayjs(reminder.date).format('HH:mm'),\r\n          priority: reminder.priority || 'medium',\r\n          notification: reminder.notification,\r\n          assignedTo: reminder.assignedTo || [],\r\n          recurring: reminder.recurring,\r\n          ownerId: reminder.ownerId,\r\n          source: 'reminder'\r\n        });\r\n      });\r\n    } catch (err) {\r\n      console.warn('[CalendarData] Error fetching reminders:', err);\r\n    }\r\n\r\n    // Fetch tasks from user's projects\r\n    try {\r\n      const projects = await projectsService.listProjects(userId);\r\n      const projectIds = projects.map(p => p.$id);\r\n\r\n      for (const projectId of projectIds) {\r\n        try {\r\n          const tasks = await tasksService.listTasks(projectId);\r\n          tasks.forEach(task => {\r\n            if (task.dueDate) {\r\n              const taskDate = dayjs(task.dueDate).format('YYYY-MM-DD');\r\n              \r\n              // If date filter is provided, only include matching tasks\r\n              if (date && taskDate !== date) {\r\n                return;\r\n              }\r\n\r\n              items.push({\r\n                type: 'task',\r\n                id: task.$id,\r\n                title: task.title,\r\n                description: task.description,\r\n                date: task.dueDate,\r\n                time: dayjs(task.dueDate).format('HH:mm'),\r\n                priority: task.priority || 'Medium',\r\n                status: task.status,\r\n                projectId: task.projectId,\r\n                assignedTo: [], // Tasks don't have assignedTo yet, but structure is ready\r\n                recurring: null,\r\n                ownerId: task.createdBy,\r\n                source: 'task',\r\n                isOverdue: new Date(task.dueDate) < new Date() && task.status !== 'Completed'\r\n              });\r\n            }\r\n          });\r\n        } catch (err) {\r\n          console.warn(`[CalendarData] Error fetching tasks for project ${projectId}:`, err);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.warn('[CalendarData] Error fetching projects:', err);\r\n    }\r\n\r\n    // Sort by date/time\r\n    items.sort((a, b) => {\r\n      const dateA = new Date(a.date);\r\n      const dateB = new Date(b.date);\r\n      return dateA - dateB;\r\n    });\r\n\r\n    return items;\r\n  } catch (err) {\r\n    console.error('[CalendarData] Error getting calendar items:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Get calendar items for a specific date\r\n * @param {string} userId - User ID\r\n * @param {string} date - Date in YYYY-MM-DD format\r\n * @returns {Promise<Array>} Array of items for that date\r\n */\r\nexport async function getDayItems(userId, date) {\r\n  return getCalendarItems(userId, date);\r\n}\r\n\r\n/**\r\n * Get upcoming items (next N days)\r\n * @param {string} userId - User ID\r\n * @param {number} days - Number of days ahead to fetch (default: 7)\r\n * @returns {Promise<Array>} Array of upcoming items\r\n */\r\nexport async function getUpcomingItems(userId, days = 7) {\r\n  try {\r\n    const allItems = await getCalendarItems(userId);\r\n    const today = dayjs().startOf('day');\r\n    const endDate = today.add(days, 'day');\r\n\r\n    return allItems.filter(item => {\r\n      const itemDate = dayjs(item.date).startOf('day');\r\n      return itemDate.isAfter(today.subtract(1, 'day')) && itemDate.isBefore(endDate.add(1, 'day'));\r\n    });\r\n  } catch (err) {\r\n    console.error('[CalendarData] Error getting upcoming items:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Get overdue items\r\n * @param {string} userId - User ID\r\n * @returns {Promise<Array>} Array of overdue items\r\n */\r\nexport async function getOverdueItems(userId) {\r\n  try {\r\n    const allItems = await getCalendarItems(userId);\r\n    const today = dayjs().startOf('day');\r\n\r\n    return allItems.filter(item => {\r\n      const itemDate = dayjs(item.date).startOf('day');\r\n      const isOverdue = itemDate.isBefore(today);\r\n      const isCompleted = item.type === 'task' && item.status === 'Completed';\r\n      return isOverdue && !isCompleted;\r\n    });\r\n  } catch (err) {\r\n    console.error('[CalendarData] Error getting overdue items:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Get items grouped by date\r\n * @param {string} userId - User ID\r\n * @param {string} startDate - Start date (YYYY-MM-DD)\r\n * @param {string} endDate - End date (YYYY-MM-DD)\r\n * @returns {Promise<Object>} Object with dates as keys and arrays of items as values\r\n */\r\nexport async function getItemsByDateRange(userId, startDate, endDate) {\r\n  try {\r\n    const allItems = await getCalendarItems(userId);\r\n    const start = dayjs(startDate).startOf('day');\r\n    const end = dayjs(endDate).endOf('day');\r\n\r\n    const filtered = allItems.filter(item => {\r\n      const itemDate = dayjs(item.date).startOf('day');\r\n      return itemDate.isAfter(start.subtract(1, 'day')) && itemDate.isBefore(end.add(1, 'day'));\r\n    });\r\n\r\n    // Group by date\r\n    const grouped = {};\r\n    filtered.forEach(item => {\r\n      const dateKey = dayjs(item.date).format('YYYY-MM-DD');\r\n      if (!grouped[dateKey]) {\r\n        grouped[dateKey] = [];\r\n      }\r\n      grouped[dateKey].push(item);\r\n    });\r\n\r\n    return grouped;\r\n  } catch (err) {\r\n    console.error('[CalendarData] Error getting items by date range:', err);\r\n    return {};\r\n  }\r\n}\r\n\r\nexport default {\r\n  getCalendarItems,\r\n  getDayItems,\r\n  getUpcomingItems,\r\n  getOverdueItems,\r\n  getItemsByDateRange\r\n};\r\n\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Alert,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Switch,\r\n  FormControlLabel,\r\n  Chip,\r\n  Badge,\r\n  Tabs,\r\n  Tab,\r\n  InputAdornment,\r\n  Collapse\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Notifications as NotificationsIcon,\r\n  ArrowBack as ArrowBackIcon,\r\n  ArrowForward as ArrowForwardIcon,\r\n  PersonAdd as PersonAddIcon,\r\n  PersonRemove as PersonRemoveIcon,\r\n  Today as TodayIcon,\r\n  Assignment as TaskIcon,\r\n  Event as EventIcon,\r\n  Search as SearchIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  ExpandLess as ExpandLessIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport remindersService from '../../services/reminders';\r\nimport { useDayItems, useUpcomingItems, useOverdueItems, useMonthItems } from '../../hooks/useCalendarData';\r\nimport { databases } from '../../appwrite';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\n\r\nconst Calendar = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  \r\n  // Initialize date from URL or default to today\r\n  const urlDate = searchParams.get('date');\r\n  const initialDate = urlDate ? dayjs(urlDate) : dayjs();\r\n  \r\n  const [selectedDate, setSelectedDate] = useState(initialDate);\r\n  const [currentMonth, setCurrentMonth] = useState(initialDate);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const queryClient = useQueryClient();\r\n  const [editingItem, setEditingItem] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [availableUsers, setAvailableUsers] = useState([]);\r\n  const [activeTab, setActiveTab] = useState(0); // 0: Day view, 1: Upcoming, 2: Overdue\r\n  const [filterType, setFilterType] = useState('all'); // all, reminders, tasks\r\n  const [filterPriority, setFilterPriority] = useState('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [expandedDates, setExpandedDates] = useState({});\r\n  \r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    date: dayjs().format('YYYY-MM-DD'),\r\n    time: '12:00',\r\n    notification: true,\r\n    priority: 'medium',\r\n    assignedTo: [],\r\n    recurring: null\r\n  });\r\n  const [addMemberEmail, setAddMemberEmail] = useState('');\r\n\r\n  // Load available users\r\n  useEffect(() => {\r\n    const loadUsers = async () => {\r\n      try {\r\n        const PROFILES_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROFILES || '6918f632002d42536ab2';\r\n        const DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\n        const res = await databases.listDocuments(DATABASE_ID, PROFILES_COLLECTION_ID);\r\n        setAvailableUsers(res.documents || []);\r\n      } catch (err) {\r\n        console.error('Failed to load users:', err);\r\n      }\r\n    };\r\n    if (user?.$id) {\r\n      loadUsers();\r\n    }\r\n  }, [user?.$id]);\r\n\r\n  // React Query hooks for calendar data - parallel fetching\r\n  const startOfMonth = currentMonth.startOf('month');\r\n  const endOfMonth = currentMonth.endOf('month');\r\n  \r\n  const { data: dayItems = [], isLoading: dayItemsLoading } = useDayItems(user?.$id, selectedDate);\r\n  const { data: upcomingItems = [], isLoading: upcomingLoading } = useUpcomingItems(user?.$id, 7);\r\n  const { data: overdueItems = [], isLoading: overdueLoading } = useOverdueItems(user?.$id);\r\n  const { data: monthItems = {}, isLoading: monthLoading } = useMonthItems(\r\n    user?.$id,\r\n    startOfMonth.format('YYYY-MM-DD'),\r\n    endOfMonth.format('YYYY-MM-DD')\r\n  );\r\n\r\n  // Create reminder mutation\r\n  const createReminderMutation = useMutation({\r\n    mutationFn: async (reminderData) => {\r\n      return await remindersService.createReminder(user.$id, reminderData);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['calendar']);\r\n      setSuccess('Reminder created successfully');\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    },\r\n    onError: (err) => {\r\n      setError(err?.message || 'Failed to create reminder');\r\n    },\r\n  });\r\n\r\n  // Update reminder mutation\r\n  const updateReminderMutation = useMutation({\r\n    mutationFn: async ({ reminderId, reminderData }) => {\r\n      return await remindersService.updateReminder(reminderId, reminderData);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['calendar']);\r\n      setSuccess('Reminder updated successfully');\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    },\r\n    onError: (err) => {\r\n      setError(err?.message || 'Failed to update reminder');\r\n    },\r\n  });\r\n\r\n  // Delete reminder mutation\r\n  const deleteReminderMutation = useMutation({\r\n    mutationFn: async (reminderId) => {\r\n      return await remindersService.deleteReminder(reminderId);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['calendar']);\r\n      setSuccess('Reminder deleted successfully');\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    },\r\n    onError: (err) => {\r\n      setError(err?.message || 'Failed to delete reminder');\r\n    },\r\n  });\r\n\r\n  // Update URL when date changes\r\n  useEffect(() => {\r\n    const newUrl = `/calendar${selectedDate.format('YYYY-MM-DD') !== dayjs().format('YYYY-MM-DD') ? `?date=${selectedDate.format('YYYY-MM-DD')}` : ''}`;\r\n    window.history.replaceState({}, '', newUrl);\r\n  }, [selectedDate]);\r\n\r\n  const handleDateChange = (newDate) => {\r\n    setSelectedDate(newDate);\r\n    setCurrentMonth(newDate);\r\n  };\r\n\r\n  const handleMonthChange = (direction) => {\r\n    const newMonth = direction === 'next' \r\n      ? currentMonth.add(1, 'month')\r\n      : currentMonth.subtract(1, 'month');\r\n    setCurrentMonth(newMonth);\r\n    setSelectedDate(newMonth);\r\n  };\r\n\r\n  const handleToday = () => {\r\n    const today = dayjs();\r\n    setSelectedDate(today);\r\n    setCurrentMonth(today);\r\n  };\r\n\r\n  const handleAddReminder = () => {\r\n    setEditingItem(null);\r\n    setFormData({\r\n      title: '',\r\n      description: '',\r\n      date: selectedDate.format('YYYY-MM-DD'),\r\n      time: '12:00',\r\n      notification: true,\r\n      priority: 'medium',\r\n      assignedTo: [],\r\n      recurring: null\r\n    });\r\n    setAddMemberEmail('');\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleEditItem = (item) => {\r\n    if (item.type === 'reminder') {\r\n      setEditingItem(item);\r\n      setFormData({\r\n        title: item.title,\r\n        description: item.description || '',\r\n        date: dayjs(item.date).format('YYYY-MM-DD'),\r\n        time: dayjs(item.date).format('HH:mm'),\r\n        notification: item.notification,\r\n        priority: item.priority,\r\n        assignedTo: item.assignedTo || [],\r\n        recurring: item.recurring || null\r\n      });\r\n      setAddMemberEmail('');\r\n      setDialogOpen(true);\r\n    } else if (item.type === 'task') {\r\n      // Navigate to task view\r\n      navigate(`/projects/${item.projectId}/tasks/${item.id}`);\r\n    }\r\n  };\r\n\r\n  const handleDeleteItem = async (item) => {\r\n    if (item.type === 'reminder') {\r\n      if (!window.confirm('Are you sure you want to delete this reminder?')) {\r\n        return;\r\n      }\r\n      deleteReminderMutation.mutate(item.id);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!user?.$id) {\r\n      setError('Not authenticated');\r\n      return;\r\n    }\r\n    if (!formData.title.trim()) {\r\n      setError('Title is required');\r\n      return;\r\n    }\r\n\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    const reminderData = {\r\n      title: formData.title,\r\n      description: formData.description,\r\n      date: formData.date,\r\n      time: formData.time,\r\n      notification: formData.notification,\r\n      priority: formData.priority,\r\n      assignedTo: formData.assignedTo || [],\r\n      recurring: formData.recurring || null\r\n    };\r\n\r\n    if (editingItem) {\r\n      updateReminderMutation.mutate({ reminderId: editingItem.id, reminderData });\r\n    } else {\r\n      createReminderMutation.mutate(reminderData);\r\n    }\r\n\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, checked } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: name === 'notification' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const handleAddAssignedUser = () => {\r\n    if (!addMemberEmail.trim()) return;\r\n    \r\n    const userProfile = availableUsers.find(u => \r\n      u.email?.toLowerCase() === addMemberEmail.toLowerCase()\r\n    );\r\n    \r\n    if (!userProfile) {\r\n      setError('User not found with that email');\r\n      setTimeout(() => setError(''), 3000);\r\n      return;\r\n    }\r\n    \r\n    if (formData.assignedTo.some(id => id === userProfile.userId)) {\r\n      setError('User is already assigned');\r\n      setTimeout(() => setError(''), 3000);\r\n      return;\r\n    }\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      assignedTo: [...prev.assignedTo, userProfile.userId]\r\n    }));\r\n    setAddMemberEmail('');\r\n  };\r\n\r\n  const handleRemoveAssignedUser = (userId) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      assignedTo: prev.assignedTo.filter(id => id !== userId)\r\n    }));\r\n  };\r\n\r\n  const getAssignedUserNames = (userIds) => {\r\n    return userIds.map(userId => {\r\n      const userProfile = availableUsers.find(u => u.userId === userId);\r\n      return userProfile?.name || userProfile?.email || userId;\r\n    });\r\n  };\r\n\r\n  // Filter items\r\n  const getFilteredItems = (items) => {\r\n    return items.filter(item => {\r\n      // Type filter\r\n      if (filterType === 'reminders' && item.type !== 'reminder') return false;\r\n      if (filterType === 'tasks' && item.type !== 'task') return false;\r\n      \r\n      // Priority filter\r\n      if (filterPriority !== 'all') {\r\n        const itemPriority = item.priority?.toLowerCase();\r\n        if (filterPriority === 'high' && itemPriority !== 'high') return false;\r\n        if (filterPriority === 'medium' && itemPriority !== 'medium') return false;\r\n        if (filterPriority === 'low' && itemPriority !== 'low') return false;\r\n      }\r\n      \r\n      // Search filter\r\n      if (searchTerm) {\r\n        const searchLower = searchTerm.toLowerCase();\r\n        if (!item.title?.toLowerCase().includes(searchLower) && \r\n            !item.description?.toLowerCase().includes(searchLower)) {\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    });\r\n  };\r\n\r\n  // Get items for a specific day\r\n  const getDayEventCount = (date) => {\r\n    const dateKey = date.format('YYYY-MM-DD');\r\n    const items = monthItems[dateKey] || [];\r\n    return items.length;\r\n  };\r\n\r\n  // Get priority color for day indicator\r\n  const getDayIndicatorColor = (date) => {\r\n    const dateKey = date.format('YYYY-MM-DD');\r\n    const items = monthItems[dateKey] || [];\r\n    if (items.length === 0) return null;\r\n    \r\n    const hasHigh = items.some(i => i.priority?.toLowerCase() === 'high' || i.priority === 'High' || i.priority === 'Critical');\r\n    const hasOverdue = items.some(i => i.isOverdue);\r\n    \r\n    if (hasOverdue || hasHigh) return 'error';\r\n    if (items.some(i => i.priority?.toLowerCase() === 'medium' || i.priority === 'Medium')) return 'warning';\r\n    return 'success';\r\n  };\r\n\r\n  const renderCalendarDays = () => {\r\n    const startOfMonth = currentMonth.startOf('month');\r\n    const endOfMonth = currentMonth.endOf('month');\r\n    const startDate = startOfMonth.startOf('week');\r\n    const endDate = endOfMonth.endOf('week');\r\n\r\n    const days = [];\r\n    let day = startDate;\r\n\r\n    while (day.isBefore(endDate) || day.isSame(endDate, 'day')) {\r\n      days.push(day);\r\n      day = day.add(1, 'day');\r\n    }\r\n\r\n    return days.map((d, index) => {\r\n      const eventCount = getDayEventCount(d);\r\n      const indicatorColor = getDayIndicatorColor(d);\r\n      const isToday = d.isSame(dayjs(), 'day');\r\n      const isSelected = d.isSame(selectedDate, 'day');\r\n      \r\n      return (\r\n        <Grid item xs={1.714} key={index}>\r\n          <Box\r\n            onClick={() => handleDateChange(d)}\r\n            sx={{\r\n              p: 1,\r\n              textAlign: 'center',\r\n              cursor: 'pointer',\r\n              borderRadius: 1,\r\n              position: 'relative',\r\n              backgroundColor: isSelected ? 'primary.main' : (d.month() !== currentMonth.month() ? 'action.hover' : 'transparent'),\r\n              color: isSelected ? 'white' : (d.month() !== currentMonth.month() ? 'text.secondary' : 'text.primary'),\r\n              fontWeight: isSelected || isToday ? 'bold' : 'normal',\r\n              border: isToday && !isSelected ? '2px solid' : 'none',\r\n              borderColor: isToday && !isSelected ? 'primary.main' : 'transparent',\r\n              '&:hover': {\r\n                backgroundColor: isSelected ? 'primary.dark' : 'action.selected',\r\n              },\r\n            }}\r\n          >\r\n            {d.date()}\r\n            {eventCount > 0 && (\r\n              <Badge\r\n                badgeContent={eventCount}\r\n                color={indicatorColor || 'default'}\r\n                sx={{\r\n                  position: 'absolute',\r\n                  top: 2,\r\n                  right: 2,\r\n                  '& .MuiBadge-badge': {\r\n                    fontSize: '0.6rem',\r\n                    minWidth: '16px',\r\n                    height: '16px',\r\n                    padding: '0 4px'\r\n                  }\r\n                }}\r\n              />\r\n            )}\r\n          </Box>\r\n        </Grid>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderItemCard = (item) => {\r\n    const isTask = item.type === 'task';\r\n    const isOverdue = item.isOverdue;\r\n    \r\n    return (\r\n      <Card\r\n        key={item.id}\r\n        sx={{\r\n          mb: 2,\r\n          borderRadius: 2,\r\n          boxShadow: 2,\r\n          borderLeft: `4px solid ${\r\n            isOverdue ? '#d32f2f' :\r\n            item.priority === 'high' || item.priority === 'High' || item.priority === 'Critical' ? '#f57c00' :\r\n            item.priority === 'medium' || item.priority === 'Medium' ? '#fbc02d' : '#388e3c'\r\n          }`,\r\n          transition: 'all 0.2s ease-in-out',\r\n          '&:hover': {\r\n            boxShadow: 4,\r\n            transform: 'translateY(-2px)'\r\n          }\r\n        }}\r\n      >\r\n        <CardContent sx={{ pb: 1 }}>\r\n          <Box sx={{ display: 'flex', alignItems: 'flex-start', mb: 1 }}>\r\n            {isTask ? (\r\n              <TaskIcon sx={{ mr: 1, color: 'primary.main', mt: 0.5 }} fontSize=\"small\" />\r\n            ) : (\r\n              <EventIcon sx={{ mr: 1, color: 'primary.main', mt: 0.5 }} fontSize=\"small\" />\r\n            )}\r\n            <Box sx={{ flexGrow: 1 }}>\r\n              <Typography\r\n                variant=\"h6\"\r\n                sx={{\r\n                  fontWeight: 'medium',\r\n                  color: 'text.primary'\r\n                }}\r\n              >\r\n                {item.title}\r\n              </Typography>\r\n              {isTask && (\r\n                <Chip\r\n                  label={item.status}\r\n                  size=\"small\"\r\n                  sx={{ mt: 0.5, fontSize: '0.7rem', height: '20px' }}\r\n                  color={item.status === 'Completed' ? 'success' : 'default'}\r\n                />\r\n              )}\r\n            </Box>\r\n            <Chip\r\n              label={item.priority}\r\n              size=\"small\"\r\n              sx={{\r\n                fontWeight: 'medium',\r\n                fontSize: '0.7rem'\r\n              }}\r\n              color={\r\n                item.priority === 'high' || item.priority === 'High' || item.priority === 'Critical' ? 'error' :\r\n                item.priority === 'medium' || item.priority === 'Medium' ? 'warning' : 'success'\r\n              }\r\n            />\r\n          </Box>\r\n          \r\n          {item.description && (\r\n            <Typography\r\n              variant=\"body2\"\r\n              sx={{\r\n                color: 'text.secondary',\r\n                mb: 1.5,\r\n                ml: 4\r\n              }}\r\n            >\r\n              {item.description}\r\n            </Typography>\r\n          )}\r\n          \r\n          {item.assignedTo && item.assignedTo.length > 0 && (\r\n            <Box sx={{ mb: 1, ml: 4 }}>\r\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mb: 0.5 }}>\r\n                Assigned to:\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                {getAssignedUserNames(item.assignedTo).map((name, idx) => (\r\n                  <Chip\r\n                    key={idx}\r\n                    label={name}\r\n                    size=\"small\"\r\n                    sx={{ fontSize: '0.7rem', height: '20px' }}\r\n                  />\r\n                ))}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n          \r\n          {item.recurring && (\r\n            <Chip\r\n              label={`Repeats: ${item.recurring}`}\r\n              size=\"small\"\r\n              color=\"info\"\r\n              sx={{ mb: 1, ml: 4, fontSize: '0.7rem' }}\r\n            />\r\n          )}\r\n          \r\n          <Box sx={{\r\n            mt: 1,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 1,\r\n            color: 'text.secondary',\r\n            ml: 4\r\n          }}>\r\n            <NotificationsIcon\r\n              color={item.notification ? 'primary' : 'disabled'}\r\n              fontSize=\"small\"\r\n            />\r\n            <Typography variant=\"body2\">\r\n              {dayjs(item.date).format('h:mm A')}\r\n            </Typography>\r\n            {isOverdue && (\r\n              <Chip\r\n                label=\"Overdue\"\r\n                size=\"small\"\r\n                color=\"error\"\r\n                sx={{ fontSize: '0.7rem', height: '20px' }}\r\n              />\r\n            )}\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions sx={{ px: 2, pb: 2 }}>\r\n          {isTask ? (\r\n            <Button\r\n              size=\"small\"\r\n              onClick={() => navigate(`/projects/${item.projectId}/tasks/${item.id}`)}\r\n              sx={{ textTransform: 'none' }}\r\n            >\r\n              View Task\r\n            </Button>\r\n          ) : (\r\n            <>\r\n              <IconButton\r\n                size=\"small\"\r\n                onClick={() => handleEditItem(item)}\r\n                sx={{\r\n                  '&:hover': {\r\n                    color: 'primary.main',\r\n                    backgroundColor: 'primary.lighter'\r\n                  }\r\n                }}\r\n              >\r\n                <EditIcon fontSize=\"small\" />\r\n              </IconButton>\r\n              <IconButton\r\n                size=\"small\"\r\n                onClick={() => handleDeleteItem(item)}\r\n                sx={{\r\n                  '&:hover': {\r\n                    color: 'error.main',\r\n                    backgroundColor: 'error.lighter'\r\n                  }\r\n                }}\r\n              >\r\n                <DeleteIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </>\r\n          )}\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const renderUpcomingSection = () => {\r\n    // Group upcoming items by date\r\n    const grouped = {};\r\n    filteredUpcoming.forEach(item => {\r\n      const dateKey = dayjs(item.date).format('YYYY-MM-DD');\r\n      if (!grouped[dateKey]) {\r\n        grouped[dateKey] = [];\r\n      }\r\n      grouped[dateKey].push(item);\r\n    });\r\n    \r\n    const sortedDates = Object.keys(grouped).sort();\r\n\r\n    return (\r\n      <Box>\r\n        {sortedDates.length === 0 ? (\r\n          <Typography color=\"text.secondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n            No upcoming items\r\n          </Typography>\r\n        ) : (\r\n          sortedDates.map(dateKey => {\r\n            const items = grouped[dateKey];\r\n            if (items.length === 0) return null;\r\n            \r\n            const date = dayjs(dateKey);\r\n            const isExpanded = expandedDates[dateKey];\r\n            \r\n            return (\r\n              <Box key={dateKey} sx={{ mb: 2 }}>\r\n                <Box\r\n                  sx={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    p: 1.5,\r\n                    bgcolor: 'action.hover',\r\n                    borderRadius: 1,\r\n                    cursor: 'pointer',\r\n                    '&:hover': { bgcolor: 'action.selected' }\r\n                  }}\r\n                  onClick={() => setExpandedDates(prev => ({\r\n                    ...prev,\r\n                    [dateKey]: !prev[dateKey]\r\n                  }))}\r\n                >\r\n                  <Typography variant=\"subtitle1\" sx={{ fontWeight: 'medium' }}>\r\n                    {date.format('MMMM D, YYYY')} ({items.length} {items.length === 1 ? 'item' : 'items'})\r\n                  </Typography>\r\n                  {isExpanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n                </Box>\r\n                <Collapse in={isExpanded}>\r\n                  <Box sx={{ mt: 1 }}>\r\n                    {items.map(item => renderItemCard(item))}\r\n                  </Box>\r\n                </Collapse>\r\n              </Box>\r\n            );\r\n          })\r\n        )}\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const filteredDayItems = getFilteredItems(dayItems);\r\n  const filteredUpcoming = getFilteredItems(upcomingItems);\r\n  const filteredOverdue = getFilteredItems(overdueItems);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Box\r\n        sx={{\r\n          mb: 4,\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          borderBottom: '1px solid',\r\n          borderColor: 'divider',\r\n          pb: 2\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h4\"\r\n          sx={{\r\n            fontWeight: 'bold',\r\n            color: 'primary.main'\r\n          }}\r\n        >\r\n          Calendar & Tasks\r\n        </Typography>\r\n        <Box sx={{ display: 'flex', gap: 1 }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<TodayIcon />}\r\n            onClick={handleToday}\r\n            sx={{ borderRadius: 1, textTransform: 'none' }}\r\n          >\r\n            Today\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<AddIcon />}\r\n            onClick={handleAddReminder}\r\n            sx={{ borderRadius: 2, textTransform: 'none' }}\r\n          >\r\n            Add Reminder\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError('')}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      {success && (\r\n        <Alert severity=\"success\" sx={{ mb: 2 }} onClose={() => setSuccess('')}>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <Box sx={{ mb: 3, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\r\n        <TextField\r\n          placeholder=\"Search...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n          sx={{ flexGrow: 1, minWidth: 200 }}\r\n          size=\"small\"\r\n        />\r\n        <FormControl size=\"small\" sx={{ minWidth: 150 }}>\r\n          <InputLabel>Type</InputLabel>\r\n          <Select\r\n            value={filterType}\r\n            onChange={(e) => setFilterType(e.target.value)}\r\n            label=\"Type\"\r\n          >\r\n            <MenuItem value=\"all\">All</MenuItem>\r\n            <MenuItem value=\"reminders\">Reminders</MenuItem>\r\n            <MenuItem value=\"tasks\">Tasks</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl size=\"small\" sx={{ minWidth: 150 }}>\r\n          <InputLabel>Priority</InputLabel>\r\n          <Select\r\n            value={filterPriority}\r\n            onChange={(e) => setFilterPriority(e.target.value)}\r\n            label=\"Priority\"\r\n          >\r\n            <MenuItem value=\"all\">All</MenuItem>\r\n            <MenuItem value=\"high\">High</MenuItem>\r\n            <MenuItem value=\"medium\">Medium</MenuItem>\r\n            <MenuItem value=\"low\">Low</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Box>\r\n\r\n      <Grid container spacing={4}>\r\n        {/* Calendar View */}\r\n        <Grid item xs={12} md={8}>\r\n          <Paper\r\n            elevation={3}\r\n            sx={{\r\n              p: 3,\r\n              borderRadius: 2,\r\n              backgroundColor: 'background.paper',\r\n              transition: 'all 0.3s ease-in-out',\r\n              '&:hover': {\r\n                boxShadow: 6\r\n              }\r\n            }}\r\n          >\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n              <IconButton onClick={() => handleMonthChange('prev')}>\r\n                <ArrowBackIcon />\r\n              </IconButton>\r\n              <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\r\n                {currentMonth.format('MMMM YYYY')}\r\n              </Typography>\r\n              <IconButton onClick={() => handleMonthChange('next')}>\r\n                <ArrowForwardIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box sx={{ mb: 2 }}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Selected Date\"\r\n                type=\"date\"\r\n                value={selectedDate.format('YYYY-MM-DD')}\r\n                onChange={(e) => handleDateChange(dayjs(e.target.value))}\r\n                InputLabelProps={{ shrink: true }}\r\n                sx={{ '& .MuiOutlinedInput-root': { borderRadius: 1 } }}\r\n              />\r\n            </Box>\r\n            <Grid container spacing={0.5}>\r\n              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n                <Grid item xs={1.714} key={day}>\r\n                  <Box sx={{ p: 1, textAlign: 'center', fontWeight: 'bold', color: 'primary.dark' }}>\r\n                    {day}\r\n                  </Box>\r\n                </Grid>\r\n              ))}\r\n              {renderCalendarDays()}\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        {/* Sidebar */}\r\n        <Grid item xs={12} md={4}>\r\n          <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\r\n            <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)}>\r\n              <Tab label=\"Today\" />\r\n              <Tab label=\"Upcoming\" />\r\n              <Tab label=\"Overdue\" />\r\n            </Tabs>\r\n          </Box>\r\n\r\n          {activeTab === 0 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom sx={{ fontWeight: 'medium', mb: 2 }}>\r\n                {selectedDate.format('MMMM D, YYYY')}\r\n              </Typography>\r\n              {filteredDayItems.length === 0 ? (\r\n                <Typography color=\"text.secondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                  No items for this day\r\n                </Typography>\r\n              ) : (\r\n                filteredDayItems.map(item => renderItemCard(item))\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          {activeTab === 1 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom sx={{ fontWeight: 'medium', mb: 2 }}>\r\n                Next 7 Days\r\n              </Typography>\r\n              {filteredUpcoming.length === 0 ? (\r\n                <Typography color=\"text.secondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                  No upcoming items\r\n                </Typography>\r\n              ) : (\r\n                renderUpcomingSection()\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          {activeTab === 2 && (\r\n            <Box>\r\n              <Typography variant=\"h6\" gutterBottom sx={{ fontWeight: 'medium', mb: 2 }}>\r\n                Overdue Items\r\n              </Typography>\r\n              {filteredOverdue.length === 0 ? (\r\n                <Typography color=\"text.secondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                  No overdue items\r\n                </Typography>\r\n              ) : (\r\n                filteredOverdue.map(item => renderItemCard(item))\r\n              )}\r\n            </Box>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Reminder Dialog */}\r\n      <Dialog\r\n        open={dialogOpen}\r\n        onClose={() => setDialogOpen(false)}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: {\r\n            borderRadius: 2,\r\n            boxShadow: 24\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{\r\n          pb: 2,\r\n          borderBottom: '1px solid',\r\n          borderColor: 'divider'\r\n        }}>\r\n          {editingItem ? 'Edit Reminder' : 'New Reminder'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{\r\n            pt: 3,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 2.5\r\n          }}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Title\"\r\n              name=\"title\"\r\n              value={formData.title}\r\n              onChange={handleChange}\r\n              required\r\n              sx={{ '& .MuiOutlinedInput-root': { borderRadius: 1 } }}\r\n            />\r\n            <TextField\r\n              fullWidth\r\n              label=\"Description\"\r\n              name=\"description\"\r\n              multiline\r\n              rows={3}\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              sx={{ '& .MuiOutlinedInput-root': { borderRadius: 1 } }}\r\n            />\r\n            <TextField\r\n              fullWidth\r\n              label=\"Date\"\r\n              type=\"date\"\r\n              name=\"date\"\r\n              value={formData.date}\r\n              onChange={handleChange}\r\n              InputLabelProps={{ shrink: true }}\r\n              sx={{ '& .MuiOutlinedInput-root': { borderRadius: 1 } }}\r\n            />\r\n            <TextField\r\n              fullWidth\r\n              label=\"Time\"\r\n              type=\"time\"\r\n              name=\"time\"\r\n              value={formData.time}\r\n              onChange={handleChange}\r\n              InputLabelProps={{ shrink: true }}\r\n              sx={{ '& .MuiOutlinedInput-root': { borderRadius: 1 } }}\r\n            />\r\n            <FormControl fullWidth>\r\n              <InputLabel>Priority</InputLabel>\r\n              <Select\r\n                name=\"priority\"\r\n                value={formData.priority}\r\n                onChange={handleChange}\r\n                label=\"Priority\"\r\n                sx={{ borderRadius: 1 }}\r\n              >\r\n                <MenuItem value=\"low\">Low</MenuItem>\r\n                <MenuItem value=\"medium\">Medium</MenuItem>\r\n                <MenuItem value=\"high\">High</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Repeat</InputLabel>\r\n              <Select\r\n                name=\"recurring\"\r\n                value={formData.recurring || ''}\r\n                onChange={handleChange}\r\n                label=\"Repeat\"\r\n                sx={{ borderRadius: 1 }}\r\n              >\r\n                <MenuItem value=\"\">Never</MenuItem>\r\n                <MenuItem value=\"daily\">Daily</MenuItem>\r\n                <MenuItem value=\"weekly\">Weekly</MenuItem>\r\n                <MenuItem value=\"monthly\">Monthly</MenuItem>\r\n                <MenuItem value=\"yearly\">Yearly</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <Box>\r\n              <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\r\n                Assign to People\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', gap: 1, mb: 1 }}>\r\n                <TextField\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  placeholder=\"Enter email address\"\r\n                  value={addMemberEmail}\r\n                  onChange={(e) => setAddMemberEmail(e.target.value)}\r\n                  onKeyPress={(e) => {\r\n                    if (e.key === 'Enter') {\r\n                      e.preventDefault();\r\n                      handleAddAssignedUser();\r\n                    }\r\n                  }}\r\n                />\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  startIcon={<PersonAddIcon />}\r\n                  onClick={handleAddAssignedUser}\r\n                  size=\"small\"\r\n                >\r\n                  Add\r\n                </Button>\r\n              </Box>\r\n              {formData.assignedTo.length > 0 && (\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                  {getAssignedUserNames(formData.assignedTo).map((name, idx) => (\r\n                    <Chip\r\n                      key={formData.assignedTo[idx]}\r\n                      label={name}\r\n                      size=\"small\"\r\n                      onDelete={() => handleRemoveAssignedUser(formData.assignedTo[idx])}\r\n                      deleteIcon={<PersonRemoveIcon />}\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={formData.notification}\r\n                  onChange={handleChange}\r\n                  name=\"notification\"\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"Enable Notifications\"\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions sx={{ px: 3, py: 2, gap: 1 }}>\r\n          <Button\r\n            onClick={() => setDialogOpen(false)}\r\n            sx={{ borderRadius: 1, textTransform: 'none' }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            variant=\"contained\"\r\n            disabled={createReminderMutation.isLoading || updateReminderMutation.isLoading || !formData.title.trim()}\r\n            sx={{ borderRadius: 1, textTransform: 'none' }}\r\n          >\r\n            {createReminderMutation.isLoading || updateReminderMutation.isLoading \r\n              ? (editingItem ? 'Updating...' : 'Creating...') \r\n              : (editingItem ? 'Update' : 'Create')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","import { useQuery } from '@tanstack/react-query';\r\nimport calendarDataService from '../services/calendarData';\r\nimport dayjs from 'dayjs';\r\n\r\nexport const useDayItems = (userId, date) => {\r\n  const dateStr = date ? dayjs(date).format('YYYY-MM-DD') : dayjs().format('YYYY-MM-DD');\r\n  \r\n  return useQuery({\r\n    queryKey: ['calendar', 'dayItems', userId, dateStr],\r\n    queryFn: async () => {\r\n      return await calendarDataService.getDayItems(userId, dateStr);\r\n    },\r\n    enabled: !!userId,\r\n    staleTime: 1 * 60 * 1000, // 1 minute\r\n  });\r\n};\r\n\r\nexport const useUpcomingItems = (userId, days = 7) => {\r\n  return useQuery({\r\n    queryKey: ['calendar', 'upcoming', userId, days],\r\n    queryFn: async () => {\r\n      return await calendarDataService.getUpcomingItems(userId, days);\r\n    },\r\n    enabled: !!userId,\r\n    staleTime: 2 * 60 * 1000, // 2 minutes\r\n  });\r\n};\r\n\r\nexport const useOverdueItems = (userId) => {\r\n  return useQuery({\r\n    queryKey: ['calendar', 'overdue', userId],\r\n    queryFn: async () => {\r\n      return await calendarDataService.getOverdueItems(userId);\r\n    },\r\n    enabled: !!userId,\r\n    staleTime: 2 * 60 * 1000, // 2 minutes\r\n  });\r\n};\r\n\r\nexport const useMonthItems = (userId, startDate, endDate) => {\r\n  const startStr = startDate ? dayjs(startDate).format('YYYY-MM-DD') : null;\r\n  const endStr = endDate ? dayjs(endDate).format('YYYY-MM-DD') : null;\r\n  \r\n  return useQuery({\r\n    queryKey: ['calendar', 'monthItems', userId, startStr, endStr],\r\n    queryFn: async () => {\r\n      return await calendarDataService.getItemsByDateRange(userId, startStr, endStr);\r\n    },\r\n    enabled: !!userId && !!startStr && !!endStr,\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  });\r\n};\r\n\r\n","import { databases } from '../appwrite';\r\nimport { Query, ID, Permission, Role } from 'appwrite';\r\n\r\nconst DATABASE_ID = process.env.REACT_APP_APPWRITE_DATABASE_ID || '69181c670024df0dd32b';\r\nconst PROJECTS_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROJECTS || '691fba2b0003b7a35fc7';\r\n\r\n// Generate unique project ID\r\nfunction generateProjectId() {\r\n  return 'PRJ-' + Date.now().toString(36).toUpperCase() + '-' + Math.random().toString(36).substr(2, 5).toUpperCase();\r\n}\r\n\r\nexport async function createProject(userId, projectData) {\r\n  try {\r\n    const { name, description, status = 'Not Started', colorTag = '#1976d2', accessGroup = [] } = projectData;\r\n    \r\n    if (!name || !name.trim()) {\r\n      throw new Error('Project name is required');\r\n    }\r\n\r\n    const projectId = generateProjectId();\r\n    const now = new Date().toISOString();\r\n\r\n    const permissions = [\r\n      Permission.read(Role.user(userId)),\r\n      Permission.update(Role.user(userId)),\r\n      Permission.delete(Role.user(userId)),\r\n      ...accessGroup.map(userId => Permission.read(Role.user(userId))),\r\n      ...accessGroup.map(userId => Permission.update(Role.user(userId)))\r\n    ];\r\n\r\n    const document = await databases.createDocument(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      ID.unique(),\r\n      {\r\n        ownerId: userId,\r\n        name: name.trim(),\r\n        description: description || '',\r\n        projectId,\r\n        status,\r\n        colorTag,\r\n        accessGroup: Array.isArray(accessGroup) ? accessGroup : [],\r\n        createdAt: now,\r\n        updatedAt: now\r\n      },\r\n      permissions\r\n    );\r\n\r\n    return document;\r\n  } catch (err) {\r\n    console.error('Error creating project:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function listProjects(userId) {\r\n  try {\r\n    // Get projects where user is owner or in access group\r\n    const ownedProjects = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      [Query.equal('ownerId', userId)]\r\n    );\r\n\r\n    // Get projects where user is in access group\r\n    const accessProjects = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      [Query.search('accessGroup', userId)]\r\n    );\r\n\r\n    // Combine and deduplicate\r\n    const allProjects = [...(ownedProjects.documents || []), ...(accessProjects.documents || [])];\r\n    const uniqueProjects = Array.from(\r\n      new Map(allProjects.map(p => [p.$id, p])).values()\r\n    );\r\n\r\n    return uniqueProjects;\r\n  } catch (err) {\r\n    console.error('Error listing projects:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function getProject(projectId) {\r\n  try {\r\n    const project = await databases.getDocument(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      projectId\r\n    );\r\n    return project;\r\n  } catch (err) {\r\n    console.error('Error getting project:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function updateProject(projectId, projectData) {\r\n  try {\r\n    const updateData = {\r\n      ...projectData,\r\n      updatedAt: new Date().toISOString()\r\n    };\r\n\r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      projectId,\r\n      updateData\r\n    );\r\n  } catch (err) {\r\n    console.error('Error updating project:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function deleteProject(projectId) {\r\n  try {\r\n    return await databases.deleteDocument(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      projectId\r\n    );\r\n  } catch (err) {\r\n    console.error('Error deleting project:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function addUserToAccessGroup(projectId, userEmail) {\r\n  try {\r\n    const project = await databases.getDocument(DATABASE_ID, PROJECTS_COLLECTION_ID, projectId);\r\n    \r\n    // Find user by email\r\n    const PROFILES_COLLECTION_ID = process.env.REACT_APP_APPWRITE_COLLECTION_PROFILES || '6918f632002d42536ab2';\r\n    const profiles = await databases.listDocuments(\r\n      DATABASE_ID,\r\n      PROFILES_COLLECTION_ID,\r\n      [Query.equal('email', userEmail.toLowerCase())]\r\n    );\r\n    \r\n    if (!profiles.documents || profiles.documents.length === 0) {\r\n      throw new Error('User not found with that email');\r\n    }\r\n    \r\n    const userProfile = profiles.documents[0];\r\n    const userId = userProfile.userId;\r\n    \r\n    const currentAccessGroup = project.accessGroup || [];\r\n    if (currentAccessGroup.includes(userId)) {\r\n      throw new Error('User is already in the access group');\r\n    }\r\n    \r\n    const updatedAccessGroup = [...currentAccessGroup, userId];\r\n    \r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      projectId,\r\n      {\r\n        accessGroup: updatedAccessGroup,\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.error('Error adding user to access group:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function removeUserFromAccessGroup(projectId, userId) {\r\n  try {\r\n    const project = await databases.getDocument(DATABASE_ID, PROJECTS_COLLECTION_ID, projectId);\r\n    const currentAccessGroup = project.accessGroup || [];\r\n    const updatedAccessGroup = currentAccessGroup.filter(id => id !== userId);\r\n    \r\n    return await databases.updateDocument(\r\n      DATABASE_ID,\r\n      PROJECTS_COLLECTION_ID,\r\n      projectId,\r\n      {\r\n        accessGroup: updatedAccessGroup,\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n    );\r\n  } catch (err) {\r\n    console.error('Error removing user from access group:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport default {\r\n  createProject,\r\n  listProjects,\r\n  getProject,\r\n  updateProject,\r\n  deleteProject,\r\n  addUserToAccessGroup,\r\n  removeUserFromAccessGroup\r\n};\r\n\r\n"],"names":["DATABASE_ID","process","TASKS_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_TASKS","async","listTasks","projectId","response","databases","listDocuments","Query","equal","documents","map","task","subtasks","JSON","parse","attachments","err","console","error","createTask","taskData","userId","title","description","dueDate","priority","status","trim","Error","now","Date","toISOString","PROJECTS_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_PROJECTS","project","getDocument","permissions","Permission","read","Role","user","ownerId","update","delete","accessGroup","id","documentData","stringify","Array","isArray","createdAt","updatedAt","createdBy","createDocument","ID","unique","getTask","taskId","updateTask","updateData","comments","updateDocument","deleteTask","deleteDocument","getOverdueTasks","ownedProjects","accessProjects","search","allProjects","projectIds","from","Set","p","$id","overdueTasks","overdue","filter","push","REMINDERS_COLLECTION_ID","REACT_APP_APPWRITE_COLLECTION_REMINDERS","createReminder","reminder","date","time","notification","assignedTo","recurring","dateTime","includes","dateStr","format","timeStr","isNaN","getTime","listReminders","arguments","length","undefined","queries","allReminders","targetDate","targetDay","getDate","targetMonth","getMonth","targetYear","getFullYear","targetDayOfWeek","getDay","reminderDate","reminderDay","reminderMonth","reminderYear","reminderDayOfWeek","code","warn","updateReminder","documentId","deleteReminder","getCalendarItems","items","remindersService","forEach","type","dayjs","source","projectsService","tasksService","taskDate","isOverdue","sort","a","b","getDayItems","getUpcomingItems","days","allItems","today","startOf","endDate","add","item","itemDate","isAfter","subtract","isBefore","getOverdueItems","isCompleted","getItemsByDateRange","startDate","start","end","endOf","filtered","grouped","dateKey","Calendar","useAuth","navigate","useNavigate","searchParams","useSearchParams","urlDate","get","initialDate","selectedDate","setSelectedDate","useState","currentMonth","setCurrentMonth","dialogOpen","setDialogOpen","queryClient","useQueryClient","editingItem","setEditingItem","setError","success","setSuccess","loading","setLoading","availableUsers","setAvailableUsers","activeTab","setActiveTab","filterType","setFilterType","filterPriority","setFilterPriority","searchTerm","setSearchTerm","expandedDates","setExpandedDates","formData","setFormData","addMemberEmail","setAddMemberEmail","useEffect","PROFILES_COLLECTION_ID","res","loadUsers","startOfMonth","endOfMonth","data","dayItems","isLoading","dayItemsLoading","useDayItems","useQuery","queryKey","queryFn","calendarDataService","enabled","staleTime","upcomingItems","upcomingLoading","useUpcomingItems","overdueItems","overdueLoading","monthItems","monthLoading","useMonthItems","startStr","endStr","createReminderMutation","useMutation","mutationFn","reminderData","onSuccess","invalidateQueries","setTimeout","onError","message","updateReminderMutation","reminderId","_ref","deleteReminderMutation","newUrl","window","history","replaceState","handleDateChange","newDate","handleMonthChange","direction","newMonth","handleChange","e","name","value","checked","target","prev","handleAddAssignedUser","userProfile","find","u","_u$email","email","toLowerCase","some","getAssignedUserNames","userIds","getFilteredItems","_item$priority","itemPriority","_item$title","_item$description","searchLower","renderItemCard","isTask","_jsxs","Card","sx","mb","borderRadius","boxShadow","borderLeft","transition","transform","children","CardContent","pb","Box","display","alignItems","_jsx","TaskIcon","mr","color","mt","fontSize","EventIcon","flexGrow","Typography","variant","fontWeight","Chip","label","size","height","ml","flexWrap","gap","idx","NotificationsIcon","CardActions","px","Button","onClick","textTransform","_Fragment","IconButton","handleEditItem","backgroundColor","EditIcon","confirm","mutate","handleDeleteItem","DeleteIcon","filteredDayItems","filteredUpcoming","filteredOverdue","Container","maxWidth","py","justifyContent","borderBottom","borderColor","startIcon","TodayIcon","handleToday","AddIcon","handleAddReminder","Alert","severity","onClose","TextField","placeholder","onChange","InputProps","startAdornment","InputAdornment","position","SearchIcon","minWidth","FormControl","InputLabel","Select","MenuItem","Grid","container","spacing","xs","md","Paper","elevation","ArrowBackIcon","ArrowForwardIcon","fullWidth","InputLabelProps","shrink","day","textAlign","renderCalendarDays","isSame","d","index","eventCount","getDayEventCount","indicatorColor","hasHigh","i","_i$priority","_i$priority2","getDayIndicatorColor","isToday","isSelected","cursor","month","border","Badge","badgeContent","top","right","padding","Tabs","newValue","Tab","gutterBottom","renderUpcomingSection","sortedDates","Object","keys","isExpanded","bgcolor","ExpandLessIcon","ExpandMoreIcon","Collapse","in","Dialog","open","PaperProps","DialogTitle","DialogContent","pt","flexDirection","required","multiline","rows","onKeyPress","key","preventDefault","PersonAddIcon","onDelete","handleRemoveAssignedUser","deleteIcon","PersonRemoveIcon","FormControlLabel","control","Switch","DialogActions","disabled","createProject","projectData","colorTag","toString","toUpperCase","Math","random","substr","listProjects","Map","values","getProject","updateProject","deleteProject","addUserToAccessGroup","userEmail","profiles","currentAccessGroup","updatedAccessGroup","removeUserFromAccessGroup"],"sourceRoot":""}